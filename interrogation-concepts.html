<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Concepts" />


<title>Interrogation de données</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Supports de cours de FX Jollois</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Interrogation de données</h1>
<h4 class="author">Concepts</h4>

</div>


<div id="plan" class="section level2">
<h2>Plan</h2>
<ul>
<li>Concepts relationnels</li>
<li>Opérations usuelles
<ul>
<li>détails des opérations</li>
<li>application sur un exemple simple</li>
</ul></li>
</ul>
</div>
<div id="concepts-relationnels" class="section level2">
<h2>Concepts relationnels</h2>
<div id="quest-ce-quune-base-de-données" class="section level3">
<h3>Qu’est-ce qu’une base de données ?</h3>
<p>Ensemble de données simples (dites atomiques) réparties dans des tables et reliées entre elles, permettant le fonctionnement d’une organisation, d’une entreprise via une ou plusieurs applications informatiques.</p>
<ul>
<li>Ensemble de données non indépendantes,</li>
<li>Interrogeable par le contenu (selon des critères),</li>
<li>Structure retrouvable.</li>
</ul>
</div>
<div id="sgbd-système-de-gestion-de-bases-de-données" class="section level3">
<h3><strong>SGBD</strong> : Système de Gestion de Bases de Données</h3>
<p>Ensemble des logiciels permettant aux utilisateurs d’insérer, de modifier et de rechercher efficacement des données spécifiques dans une grande masse d’informations partagée par de multiples utilisateurs.</p>
</div>
</div>
<div id="introduction-au-modèle-relationnel" class="section level2">
<h2>Introduction au modèle relationnel</h2>
<div id="objectifs-du-modèle" class="section level3">
<h3>Objectifs du modèle</h3>
<ul>
<li>Indépendance des programmes avec la représentation interne des données,</li>
<li>Traitement des problèmes de cohérence et de redondance des données,</li>
<li>Utilisation de langages de manipulation de données non procéduraux,</li>
<li>Extensibilité du modèle pour des données complexes,</li>
<li>Standardisation pour la description et la manipulation des bases de données.</li>
</ul>
</div>
</div>
<div id="concepts-et-définitions" class="section level2">
<h2>Concepts et définitions</h2>
<p><strong>Domaine</strong> : Ensemble de valeurs caractérisées par un nom</p>
<p><strong>Cardinal</strong> : Nombre d’éléments d’un domaine</p>
<p>Quelques exemples de domaines usuels :</p>
<pre class="sql"><code>Entier : 0, 1, 5, -4, 1324587, ...
Réel : 1.5, 3.14, -5.09, 10654.241687, 0.00000001, ...
Chaîne de caractères : &quot;abcdef&quot;, &quot;bonjour vous&quot;, &quot;1&quot;, ...
Sexe : &quot;H&quot;, &quot;F&quot; (ici, cardinal = 2)
Date : nombre de jours depuis une date de référence </code></pre>
</div>
<div id="concepts-et-définitions-1" class="section level2">
<h2>Concepts et définitions</h2>
<p><strong>Produit cartésien</strong> : Ensemble des n-uplets (<span class="math inline">\(d_1, d_2, \ldots, d_n\)</span>) où chaque <span class="math inline">\(d_i\)</span> est un élément du domaine <span class="math inline">\(\mathbf{D}_i\)</span></p>
<p>Si on a un premier attribut <code>Code</code> dont le domaine est <code>{1, 2, 3, 4}</code> (cardinal = 4) et un autre <code>TVA</code> de domaine <code>{0, 5, 10}</code> (cardinal = 3), le produit cartésien des deux domaines <code>Codes X TVA</code> aura un cardinal de 12 (4 * 3) et prendra les valeurs suivantes :</p>
<pre class="sql"><code>{
    (1, 0), (2, 0), (3, 0), (4, 0), 
    (1, 5), (2, 5), (3, 5), (4, 5), 
    (1,10), (2,10), (3,10), (4,10)
}</code></pre>
</div>
<div id="concepts-et-définitions-2" class="section level2">
<h2>Concepts et définitions</h2>
<ul>
<li><strong>Relation</strong> (ou <strong>table</strong>) : Sous-ensemble du produit cartésien d’une liste de domaines</li>
<li><strong>Attribut</strong> : Colonne d’une relation</li>
<li><strong>Tuple</strong> : Ligne d’une relation correspondant à un enregistrement</li>
<li><strong>Schéma</strong> : Nom suivi de la liste des attributs et de la définition de leurs domaines.</li>
</ul>
<hr />
<div class="figure">
<img src="interrogation-concepts/explication-table.jpg" alt="" />
<p class="caption">Description d’une table</p>
</div>
</div>
<div id="règles-dintégrité-structurelles" class="section level2">
<h2>Règles d’intégrité structurelles</h2>
<div id="contrainte-de-domaine" class="section level3">
<h3>Contrainte de domaine</h3>
<ul>
<li>Permet de définir l’ensemble de valeurs possibles pour chaque attribut</li>
<li>Important pour limiter les erreurs (mettre un caractère dans un entier par exemple)</li>
<li>Attention à ne pas trop restreindre (choisir un entier alors qu’il est possible qu’à l’avenir il y ait des réels par exemple)</li>
</ul>
</div>
</div>
<div id="règles-dintégrité-structurelles-1" class="section level2">
<h2>Règles d’intégrité structurelles</h2>
<div id="unicité-de-la-clé" class="section level3">
<h3>Unicité de la clé</h3>
<ul>
<li>Attribut (ou groupe d’attributs) permettant d’identifier chaque ligne de la table de manière unique</li>
<li>Soit naturel (par exemple numéro de sécurité sociale), soit automatique</li>
<li>Cela permettra de faire des liens entre lignes de plusieurs tables sans ambiguïté</li>
<li>On parle aussi de <strong>clé primaire</strong></li>
</ul>
</div>
</div>
<div id="règles-dintégrité-structurelles-2" class="section level2">
<h2>Règles d’intégrité structurelles</h2>
<div id="contrainte-dentité" class="section level3">
<h3>Contrainte d’entité</h3>
<ul>
<li>Une clé primaire ne peut pas avoir de valeur <code>NULL</code> (non-présence de l’information)</li>
<li>Il doit absolument y avoir une valeur pour l’attribut, ou pour chaque attribut dans le cas d’une clé multiple</li>
</ul>
</div>
<div id="contrainte-de-référence" class="section level3">
<h3>Contrainte de référence</h3>
<ul>
<li>Attribut(s) d’une relation devant apparaître comme clé dans une autre relation</li>
<li>On doit bien évidemment indiquer la table, et le nom de l’attribut (si celui-ci n’a pas le même nom)</li>
<li>On parle aussi de <strong>clé externe</strong></li>
</ul>
</div>
</div>
<div id="exemple-de-bd-simple" class="section level2">
<h2>Exemple de BD simple</h2>
<div class="figure">
<img src="interrogation-concepts/schema-db-exemple.jpg" alt="" />
<p class="caption">Schéma de la base de données Exemple</p>
</div>
</div>
<div id="exemple-de-bd-simple-1" class="section level2">
<h2>Exemple de BD simple</h2>
<pre class="sql"><code>Table : Etudiant </code></pre>
<pre class="sql"><code>  IdEtu      Nom    Prenom Sexe Age
1     1    Remin   Norbert    H  19
2     3 Constant Raphaelle    F  20
3     4  Fleurot  Isabelle    F  19
4     5   Yannic  Sandrine    F  18
5     6    Josse   Francis    H  20</code></pre>
</div>
<div id="exemple-de-bd-simple-2" class="section level2">
<h2>Exemple de BD simple</h2>
<pre class="sql"><code>Table : Matiere </code></pre>
<pre class="sql"><code>  IdMat Libelle Coeff
1     1   Maths   1.0
2     2   Stats   3.0
3     3     Com   1.0
4     5     SQL   2.5</code></pre>
</div>
<div id="exemple-de-bd-simple-3" class="section level2">
<h2>Exemple de BD simple</h2>
<pre class="sql"><code>Table : Note </code></pre>
<pre class="sql"><code>  IdEtu IdMat Note
1     3     1   12
2     3     5   15
3     4     5    2
4     4     2    9
5     4     1    7
6     1     1   18
7     1     2   11
8     1     5    5
9     6     1    9</code></pre>
</div>
<div id="opérations-usuelles" class="section level2">
<h2>Opérations usuelles</h2>
<ul>
<li>Sur une table :
<ul>
<li>Restriction</li>
<li>Projection</li>
<li>Calcul ou fonction</li>
<li>Agrégat</li>
</ul></li>
<li>Sur deux tables ayant le même schéma (i.e. les mêmes colonnes) :
<ul>
<li>Union, Intersection, Différence</li>
</ul></li>
<li>Sur deux tables quelconques :
<ul>
<li>Jointure</li>
</ul></li>
</ul>
</div>
<div id="restriction" class="section level2">
<h2>Restriction</h2>
<p>Sélection de lignes d’une table, sur la base d’une condition à respecter (cette condition peut être une combinaison de comparaison à l’aide de <code>AND</code> et de <code>OR</code> - attention aux parenthèses dans ce cas)</p>
<ul>
<li>Restriction sur <code>Age &gt;= 19</code>, sur la table <code>Etudiant</code></li>
</ul>
<pre class="sql"><code> IdEtu      Nom    Prenom Sexe Age
     1    Remin   Norbert    H  19
     3 Constant Raphaelle    F  20
     4  Fleurot  Isabelle    F  19
     6    Josse   Francis    H  20</code></pre>
</div>
<div id="projection" class="section level2">
<h2>Projection</h2>
<p>Sélection de colonnes d’une table, sur la base d’une liste d’attributs</p>
<ul>
<li>Projection sur <code>Prenom</code> et <code>Sexe</code>, sur la table <code>Etudiant</code></li>
</ul>
<pre class="sql"><code>    Prenom Sexe
   Norbert    H
 Raphaelle    F
  Isabelle    F
  Sandrine    F
   Francis    H</code></pre>
</div>
<div id="calcul" class="section level2">
<h2>Calcul</h2>
<p>Opération artihmétique, fonction mathématique, fonction sur chaîne de caractères, …</p>
<ul>
<li>Calcul de l’année de naissance (<code>2015 - Age</code>), dans la table <code>Etudiant</code></li>
</ul>
<pre class="sql"><code> IdEtu      Nom    Prenom Sexe Age 2015 - Age
     1    Remin   Norbert    H  19       1996
     3 Constant Raphaelle    F  20       1995
     4  Fleurot  Isabelle    F  19       1996
     5   Yannic  Sandrine    F  18       1997
     6    Josse   Francis    H  20       1995</code></pre>
</div>
<div id="agrégat" class="section level2">
<h2>Agrégat</h2>
<p>Calcul statistique (somme, moyenne, nombre de valeurs, …) sur un attribut, éventuellement en fonction des valeurs d’un autre attribut</p>
<ul>
<li>Calcul de la moyenne d’âge globalement, puis par sexe</li>
</ul>
<pre class="sql"><code> AVG(Age)
     19.2</code></pre>
<pre class="sql"><code> Sexe AVG(Age)
    F     19.0
    H     19.5</code></pre>
</div>
<div id="opérations-ensemblistes" class="section level2">
<h2>Opérations ensemblistes</h2>
<p>Création de deux tables pour opérations ensemblistes :</p>
<ul>
<li>A : Etudiants masculins (restriction à <code>Sexe = "H"</code>)</li>
</ul>
<pre class="sql"><code> IdEtu   Nom  Prenom Sexe Age
     1 Remin Norbert    H  19
     6 Josse Francis    H  20</code></pre>
<ul>
<li>B : Etudiants de 20 ans (restriction à <code>Age = 20</code>)</li>
</ul>
<pre class="sql"><code> IdEtu      Nom    Prenom Sexe Age
     3 Constant Raphaelle    F  20
     6    Josse   Francis    H  20</code></pre>
</div>
<div id="union" class="section level2">
<h2>Union</h2>
<p>Ensemble des lignes présentes dans l’un et/ou l’autre des deux tables, celles devant avoir les <strong>mêmes</strong> colonnes</p>
<ul>
<li><span class="math inline">\(A \cup B\)</span> : étudiants masculins <strong>ou</strong> ayant 20 ans (<em>ou les deux</em>)</li>
</ul>
<pre class="sql"><code> IdEtu      Nom    Prenom Sexe Age
     1    Remin   Norbert    H  19
     6    Josse   Francis    H  20
     3 Constant Raphaelle    F  20
     6    Josse   Francis    H  20</code></pre>
<p><em>une même ligne peut être présente dans les deux tables : à gérer si on veut ne l’avoir qu’une seule fois</em></p>
</div>
<div id="intersection" class="section level2">
<h2>Intersection</h2>
<p>Ensemble des lignes présentes dans les deux tables simultanément, celles devant avoir les <strong>mêmes</strong> colonnes</p>
<ul>
<li><span class="math inline">\(A \cap B\)</span> : étudiants masculins <strong>et</strong> ayant 20 ans</li>
</ul>
<pre class="sql"><code> IdEtu   Nom  Prenom Sexe Age
     6 Josse Francis    H  20</code></pre>
<p><em>L’union et l’intersection sont</em> <strong>commutatives</strong> <em>au contraire de la différence (cf ci-après)</em></p>
</div>
<div id="différence" class="section level2">
<h2>Différence</h2>
<p>Ensemble des lignes présentes dans la première table et absentes dans la deuxième table, les deux devant avoir les <strong>mêmes</strong> colonnes</p>
<ul>
<li><span class="math inline">\(A \setminus B\)</span> : étudiants masculins n’ayant pas 20 ans</li>
</ul>
<pre class="sql"><code> IdEtu   Nom  Prenom Sexe Age
     1 Remin Norbert    H  19</code></pre>
<ul>
<li><span class="math inline">\(B \setminus A\)</span> : étudiants de 20 ans n’étant pas masculin</li>
</ul>
<pre class="sql"><code> IdEtu      Nom    Prenom Sexe Age
     3 Constant Raphaelle    F  20</code></pre>
</div>
<div id="produit-cartésien" class="section level2">
<h2>Produit cartésien</h2>
<p>Association de chaque ligne de la première table avec chaque ligne de la deuxième table</p>
<ul>
<li>Produit cartésien entre <code>IdMat</code> et <code>IdEtu</code></li>
</ul>
<pre class="sql"><code> IdMat IdEtu
     1     1
     1     3
     1     4
     1     5
     1     6
     2     1
     2     3
     2     4
     2     5
     2     6
     3     1
     3     3
     3     4
     3     5
     3     6
     5     1
     5     3
     5     4
     5     5
     5     6</code></pre>
</div>
<div id="jointure" class="section level2">
<h2>Jointure</h2>
<p>Restriction d’un produit cartésien aux lignes respectant une condition (le plus souvent égalité de deux attributs ayant le même nom)</p>
<ul>
<li>Jointure naturelle entre <code>Note</code> et <code>Matiere</code></li>
</ul>
<pre class="sql"><code> IdEtu IdMat Note Libelle Coeff
     3     1   12   Maths   1.0
     3     5   15     SQL   2.5
     4     5    2     SQL   2.5
     4     2    9   Stats   3.0
     4     1    7   Maths   1.0
     1     1   18   Maths   1.0
     1     2   11   Stats   3.0
     1     5    5     SQL   2.5
     6     1    9   Maths   1.0</code></pre>
</div>
<div id="opération-cruciale" class="section level2">
<h2>Opération cruciale</h2>
<ul>
<li><p>Organisées dans des tables différentes,</p></li>
<li><p>Absolument nécessité des jointures.</p></li>
<li><p><strong>Jointure naturelle</strong> : la restriction est sur l’égalité des attributs ayant le même nom entre les deux tables ;</p></li>
<li><p><strong>Jointure interne</strong> : on ne garde que les lignes ayant des informations dans les deux tables ;</p></li>
<li><p><strong>Jointure externe gauche</strong> (et respectivement <strong>droite</strong>) : on garde aussi les lignes de la table de gauche (resp. de droite) qui n’ont pas de connexion avec une ligne de l’autre table ;</p></li>
<li><p><strong>Jointure externe complète</strong> : toutes les lignes des deux tables sont conservées.</p></li>
</ul>
</div>
<div id="jointure-externe-gauche" class="section level2">
<h2>Jointure externe gauche</h2>
<ul>
<li>Jointure externe gauche entre <code>Etudiant</code> et <code>Note</code></li>
</ul>
<pre class="sql"><code> IdEtu      Nom    Prenom Sexe Age IdEtu IdMat Note
     1    Remin   Norbert    H  19     1     1   18
     1    Remin   Norbert    H  19     1     2   11
     1    Remin   Norbert    H  19     1     5    5
     3 Constant Raphaelle    F  20     3     1   12
     3 Constant Raphaelle    F  20     3     5   15
     4  Fleurot  Isabelle    F  19     4     1    7
     4  Fleurot  Isabelle    F  19     4     2    9
     4  Fleurot  Isabelle    F  19     4     5    2
     5   Yannic  Sandrine    F  18    NA    NA   NA
     6    Josse   Francis    H  20     6     1    9</code></pre>
<p><em>L’étudiante n’ayant pas de note est conservée mais des valeurs <code>NULL</code> (indiquées par des <code>NA</code> ici)</em></p>
</div>
<div id="opérations-combinées-exemple-1" class="section level2">
<h2>Opérations combinées : exemple 1</h2>
<ul>
<li>Prénom, libellé de la matière et note obtenue, trié par matière
<ul>
<li>2 jointures</li>
<li>Projection</li>
</ul></li>
</ul>
<pre class="sql"><code>    Prenom Libelle Note
 Raphaelle   Maths   12
  Isabelle   Maths    7
   Norbert   Maths   18
   Francis   Maths    9
 Raphaelle     SQL   15
  Isabelle     SQL    2
   Norbert     SQL    5
  Isabelle   Stats    9
   Norbert   Stats   11</code></pre>
</div>
<div id="opérations-combinées-exemple-2" class="section level2">
<h2>Opérations combinées : exemple 2</h2>
<ul>
<li>Matière et moyenne, par ordre décroissant de moyenne
<ul>
<li>2 jointures</li>
<li>Calcul d’agrégat
<ul>
<li>Tri</li>
</ul></li>
</ul></li>
</ul>
<pre class="sql"><code> Libelle Moyenne
   Maths    11.5
   Stats    10.0
     SQL     7.3</code></pre>
<blockquote>
<p>Possibilité (quasi-infinie) de combiner toutes les opérations</p>
</blockquote>
</div>
<div id="traduction-en-sql" class="section level2">
<h2>Traduction en SQL</h2>
<pre class="sql"><code>SELECT { attribut | expression | fonction } [, ... ]
    FROM table [, ...]
    WHERE condition(s)
    GROUP BY attribut(s)
    HAVING condition(s) 
    ORDER BY attribut(s)/nombre(s);</code></pre>
<ul>
<li>Les jointures se font dans le <code>FROM</code> ;</li>
<li>La clause <code>WHERE</code> permet de faire les restrictions ;</li>
<li>Les projections se font dans le <code>SELECT</code> ;</li>
<li>Les calculs et agrégats sont à faire dans le <code>SELECT</code>, avec les attributs de regroupement d’agrégat dans le <code>GROUP BY</code> ;</li>
<li>Il est possible de faire des conditions spécifiques sur ces agrégats dans le <code>HAVING</code> ;</li>
<li>On peut effectuer un tri du résultat dans la partie <code>ORDER BY</code>.</li>
</ul>
</div>
<div id="traduction-en-r" class="section level2">
<h2>Traduction en R</h2>
<pre class="r"><code>subset(table, subset = condition(s), select = attribut(s))
transform(table, attribut = expression(s))
aggregate(attribut ~ attribut(s), table, fonction)
merge(table, table, ...)</code></pre>
<ul>
<li>Les projections et restrictions peuvent se faire avec la fonction <code>subset</code> ;</li>
<li>Les calculs se font dans la fonction <code>transform</code> ;</li>
<li>Tout ce qui est calcul d’agrégat est à faire avec la fonction <code>aggregate</code> ;</li>
<li>Les jointures se font dans la fonction <code>merge</code>.</li>
</ul>
<blockquote>
<p>Il est souvent possible de réaliser des opérations selon la logique relationnelle et d’autres selon une logique plus spécifique au langage R. Il est présenté ici les fonctions orientées relationnel.</p>
</blockquote>
</div>
<div id="traduction-en-sas" class="section level2">
<h2>Traduction en SAS</h2>
<pre class="sas"><code>data table;
    merge table table;
    attribut = expression;
    where condition(s);
    keep | drop attribut(s);
run;
proc means | freq;
run;</code></pre>
<ul>
<li>La clause <code>merge</code> permet de déterminer les tables pour les jointures ;</li>
<li>Les projections se font dans le <code>keep</code> ou le <code>drop</code> ;</li>
<li>Les restrictions sont détaillées dans le <code>where</code> ;</li>
<li>Les calculs classiques se font dans l’étape <code>data</code> et les agrégats dans une procédure <code>summary</code>, <code>means</code> ou <code>freq</code>.</li>
</ul>
<blockquote>
<p>Idem que pour R, différentes voies sont parfois possibles.</p>
</blockquote>
</div>
<div id="pour-aller-plus-loin" class="section level2">
<h2>Pour aller plus loin</h2>
<p>Interrogation de données avec :</p>
<ul>
<li><a href="interrogation-sql.html">SQL</a></li>
<li><a href="interrogation-r.html">R</a></li>
<li><a href="interrogation-sas.html">SAS</a></li>
<li><a href="interrogation-mongo.html">MongoDB</a></li>
</ul>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
